<!doctype html><html><head><meta charset='utf-8'><style>.wrap{max-width:1040px;margin:0 auto;padding:18px}
    /* Auto-prompt install bar */
    #autoPrompt{position:fixed;left:50%;transform:translateX(-50%);bottom:14px;z-index:80;display:none}
    #autoPrompt .bar{background:#151525;border:1px solid #2a2a3a;border-radius:14px;box-shadow:0 10px 28px rgba(0,0,0,.45);padding:12px 14px;display:flex;gap:10px;align-items:center}
    #autoPrompt .txt{font-size:14px}
</style></head><body><div class='wrap'><div class='tabs'><button id='installCTA' class='tab hidden'>⬇️ Instalar app</button></div></div>
  <div id="autoPrompt">
    <div class="bar">
      <div class="txt">Instale o app no seu celular para usar mais fácil. Deseja instalar agora?</div>
      <button id="apInstall" class="ok">Instalar agora</button>
      <button id="apLater" class="pill">Mais tarde</button>
    </div>
  </div>

<script>
    // ==== Auto-prompt de instalação ====
    let deferredPrompt = null;
    const installBtn = document.getElementById('installCTA');
    window.addEventListener('beforeinstallprompt', (e) => { e.preventDefault(); deferredPrompt=e; if(installBtn) installBtn.classList.remove('hidden'); });
    window.addEventListener('appinstalled', () => { if(installBtn) installBtn.classList.add('hidden'); deferredPrompt=null; });

    const ua = navigator.userAgent.toLowerCase();
    const isIOS = /iphone|ipad|ipod/.test(ua);
    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);

    const autoPrompt = document.getElementById('autoPrompt');
    const apInstall = document.getElementById('apInstall');
    const apLater = document.getElementById('apLater');

    function isStandalone(){
      return window.matchMedia && window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;
    }
    function showAutoPrompt(){
      if (isStandalone()) return;
      if (autoPrompt) autoPrompt.style.display='block';
    }

    if (apInstall) apInstall.onclick = async () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        await deferredPrompt.userChoice;
        deferredPrompt = null;
        autoPrompt.style.display = 'none';
      } else if (isIOS && isSafari) {
        alert('iPhone: abra no Safari > Compartilhar > Adicionar à Tela de Início.');
      } else {
        alert('Android/Chrome: abra o menu ⋮ > Instalar app.');
      }
    };
    if (apLater) apLater.onclick = () => { if(autoPrompt) autoPrompt.style.display='none'; };

    window.addEventListener('load', () => setTimeout(showAutoPrompt, 800));
</script></body></html>